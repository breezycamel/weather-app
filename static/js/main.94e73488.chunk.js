(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),i=a.n(r),l=a(4),o=a.n(l),s=a(7),m=a(1);function p(e){return 3600*e/1609.34}function u(e){return 9*(e-273.15)/5+32}function d(e){return e-273.15}var h=a(2),E=a.n(h);function v(e){var t=e.current,a=e.gotCurrent,n=e.convert;if(!a)return c.a.createElement("div",{className:"current-panel"});var r=E.a.parseZone(1e3*t.dt),i=n(t.main.temp),l=p(t.wind.speed),o=t.main.humidity,s=n(t.main.feels_like);return console.log(),c.a.createElement("div",{className:"panel"},c.a.createElement("h1",{className:"location-text"},t.name+", "+t.sys.country),c.a.createElement("p",{className:"current-date-time"},r.format("LLLL")),c.a.createElement("div",{className:"panel-main"},c.a.createElement("div",{className:"panel-temperature-containter panel-content"},c.a.createElement("p",{className:"panel-temperature"},i.toFixed(0)+"\xb0"),c.a.createElement("img",{className:"current-weather-icon",src:"https://openweathermap.org/img/wn/"+t.weather[0].icon+"@2x.png",alt:t.weather[0].main})),c.a.createElement("div",{className:"panel-weather-info panel-content"},c.a.createElement("p",null,"Feels Like: ",s.toFixed(0)+"\xb0"),c.a.createElement("p",{className:"wind"},"Wind: ",l.toFixed(0)," mph"),c.a.createElement("p",{className:"humidity"},"Humidity: ",o,"%"))))}function f(e){var t=e.data,a=e.isSelected,n=e.onClick,r=e.convert,i=E.a.parseZone(1e3*t.dt),l=r(t.temp.min),o=r(t.temp.max);return c.a.createElement("div",{className:"card ".concat(a?"selected":""),onClick:n},c.a.createElement("p",{className:"daily-card-day"},i.format("ddd")),c.a.createElement("img",{className:"card-image",src:"https://openweathermap.org/img/wn/"+t.weather[0].icon+"@2x.png",alt:t.weather[0].main}),c.a.createElement("p",{className:"daily-card-temperature"},o.toFixed(0)+"\xb0 "+l.toFixed(0)+"\xb0"))}function y(e){var t=e.daily,a=e.gotDaily,r=e.convert,i=Object(n.useState)(0),l=Object(m.a)(i,2),o=l[0],s=l[1];if(!a)return c.a.createElement("div",{className:"daily-panel"});var u=r(t[o].temp.min),d=r(t[o].temp.max),h=E.a.parseZone(1e3*t[o].dt),v=p(t[o].wind_speed),y=100*t[o].pop,N=t[o].humidity,w=r(t[o].dew_point);return c.a.createElement("div",{className:"panel"},c.a.createElement("h1",null,"Daily Forecast"),c.a.createElement("p",null,h.format("ll")),c.a.createElement("div",{className:"panel-main"},c.a.createElement("div",{className:"panel-temperature-containter panel-content"},c.a.createElement("p",{className:"panel-temperature"},d.toFixed(0)+"\xb0/"+u.toFixed(0)+"\xb0"),c.a.createElement("img",{src:"https://openweathermap.org/img/wn/{iconid}@2x.png".replace("{iconid}",t[o].weather[0].icon),alt:t[o].weather[0].main})),c.a.createElement("div",{className:"panel-content"},c.a.createElement("p",{className:"daily-precipitation"},"Preciptiation: ",y.toFixed(0),"%"),c.a.createElement("p",{className:"daily-wind-speed"},"Wind Speed: ",v.toFixed(0),"mph"),c.a.createElement("p",{className:"daily-humidity"},"Humidity: ",N,"%"),c.a.createElement("p",{className:"daily-dew-point"},"Dew Point: ",w.toFixed(0)+"\xb0"),c.a.createElement("p",{className:"daily-uvi"},"UV Index: ",t[o].uvi))),c.a.createElement("div",{className:"daily-card-container"},[0,1,2,3,4,5,6,7].map((function(e){return c.a.createElement(f,{key:e,data:t[e],isSelected:e===o,onClick:function(){return s(e)},convert:r})}))))}function N(e){var t=e.data,a=e.isSelected,n=e.onClick,r=e.convert,i=E.a.parseZone(1e3*t.dt),l=r(t.temp);return c.a.createElement("div",{className:"card ".concat(a?"selected":""),onClick:n},c.a.createElement("p",{className:"hourly-card-day"},i.format("ddd")),c.a.createElement("p",null,i.format("LT")),c.a.createElement("img",{className:"card-image",src:"https://openweathermap.org/img/wn/"+t.weather[0].icon+"@2x.png",alt:t.weather[0].main}),c.a.createElement("p",{className:"hourly-card-temperature"},l.toFixed(0)+"\xb0"))}function w(e){var t=e.hourly,a=e.gotHourly,r=e.convert,i=Object(n.useState)(0),l=Object(m.a)(i,2),o=l[0],s=l[1];if(!a)return c.a.createElement("div",{className:"hourly-panel"});var u=r(t[o].temp),d=E.a.parseZone(1e3*t[o].dt),h=p(t[o].wind_speed),v=100*t[o].pop,f=t[o].humidity,y=r(t[o].dew_point),w=r(t[o].feels_like);return c.a.createElement("div",{className:"panel"},c.a.createElement("h1",null,"Hourly Forecast"),c.a.createElement("p",null,d.format("ll")),c.a.createElement("div",{className:"panel-main"},c.a.createElement("div",{className:"panel-temperature-containter panel-content"},c.a.createElement("p",{className:"panel-temperature"},u.toFixed(0)+"\xb0"),c.a.createElement("img",{src:"https://openweathermap.org/img/wn/{iconid}@2x.png".replace("{iconid}",t[o].weather[0].icon),alt:t[o].weather[0].main})),c.a.createElement("div",{className:"panel-content"},c.a.createElement("p",null,"Feels Like: ",w.toFixed(0)+"\xb0"),c.a.createElement("p",{className:"hourly-precipitation"},"Preciptiation: ",v.toFixed(0),"%"),c.a.createElement("p",{className:"hourly-wind-speed"},"Wind Speed: ",h.toFixed(0),"mph"),c.a.createElement("p",{className:"hourly-humidity"},"Humidity: ",f,"%"),c.a.createElement("p",{className:"hourly-dew-point"},"Dew Point: ",y.toFixed(0)+"\xb0"))),c.a.createElement("div",{className:"hourly-card-container"},t.map((function(e,t){return c.a.createElement(N,{key:t,data:e,isSelected:t===o,onClick:function(){return s(t)},convert:r})}))))}function g(e){var t=e.handleSearch,a=e.isCelsius,r=e.setIsCelsius,i=Object(n.useState)(""),l=Object(m.a)(i,2),o=l[0],s=l[1];function p(e){console.log(e),r(e)}function u(){t(o)}return c.a.createElement("div",{id:"nav"},c.a.createElement("div",{className:"nav-content"},c.a.createElement("p",{id:"title"},"Weather App")),c.a.createElement("div",{className:"nav-content search-bar"},c.a.createElement("input",{type:"text",onKeyPress:function(e){"Enter"==e.key&&u()},onChange:function(e){return function(e){s(e.target.value)}(e)}}),c.a.createElement("button",{type:"button",onClick:u},"Search")),c.a.createElement("div",{className:"nav-content right"},c.a.createElement("div",{id:"conversion-switch"},c.a.createElement("div",{id:"celsius",className:"conversion-option ".concat(a?"selected":""),onClick:function(){return p(!0)}},"\xb0C"),c.a.createElement("div",{id:"fahrenheit",className:"conversion-option ".concat(a?"":"selected"),onClick:function(){return p(!1)}},"\xb0F"))))}var b=a(8);function x(e){var t=e.recentLocations,a=e.deleteRecentLocation,n=e.selectRecentLocation;return c.a.createElement("div",{id:"recent-location-container"},c.a.createElement("div",{id:"recent-location-nav"},t.slice(0).reverse().map((function(e,t){return c.a.createElement(O,{key:t,location:e,index:t,deleteRecentLocation:a,selectRecentLocation:n})}))))}function O(e){var t=e.location,a=(e.index,e.deleteRecentLocation),n=e.selectRecentLocation;return c.a.createElement("div",{className:"recent-location"},c.a.createElement("div",{className:"recent-location-name",onClick:function(){return n(t.lat,t.lon)}},t.name),c.a.createElement("button",{className:"recent-location-delete",onClick:function(){return a(t)}},"X"))}var j=function(){var e="https://api.openweathermap.org/data/2.5/onecall?lat={lat}&lon={lon}&exclude=current,minutely&appid={API_KEY}",t=Object(n.useState)(),a=Object(m.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)(!1),p=Object(m.a)(l,2),h=p[0],E=p[1],f=Object(n.useState)(),N=Object(m.a)(f,2),O=N[0],j=N[1],S=Object(n.useState)(!1),F=Object(m.a)(S,2),k=F[0],L=F[1],C=Object(n.useState)(),I=Object(m.a)(C,2),P=I[0],R=I[1],_=Object(n.useState)(),D=Object(m.a)(_,2),H=D[0],Z=D[1],J=Object(n.useState)(""),A=Object(m.a)(J,2),W=A[0],Y=A[1],K=Object(n.useState)(!1),M=Object(m.a)(K,2),z=M[0],q=M[1],B="5591e1dbb09d21b78bff0ced5b7a72c0",T=z?d:u,U=new b.a,V=Object(n.useState)(U.get("recentLocations")),X=Object(m.a)(V,2),G=X[0],Q=X[1];function $(){return($=Object(s.a)(o.a.mark((function t(a,n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=e.replace("{lon}",n).replace("{lat}",a).replace("{API_KEY}",B),fetch(c).then((function(e){return e.json()})).then((function(e){j(e.daily),R(e.hourly),L(!0),Z(!0)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){ee(e.coords.latitude,e.coords.longitude)}),te)}),[]);var ee=function(e,t){Y("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(B))},te=function(e){Y("https://api.openweathermap.org/data/2.5/weather?zip=08002,us&appid=".concat(B))};return Object(n.useEffect)((function(){""!=W&&fetch(W).then((function(e){return e.json()})).then((function(e){if(e.cod>="400")throw Error("Location not found\nSearch format:\nZipcode: #####, {country code}\nCity Name: {city name}, {state}, {country}\nState and country field are optional but will give better result.");i(e);var t=e.coord.lat,a=e.coord.lon;!function(e){var t=new Date;if(t.setFullYear(2030),void 0==G)return U.set("recentLocations",JSON.stringify([e]),{path:"/",expires:t}),void Q([e]);if(0==G.filter((function(t){return e.name==t.name&&Math.abs(e.lon-t.lon)<1&&Math.abs(e.lat-t.lat)<1})).length){var a=G;a.push(e),a.length>6&&a.splice(0,1),U.set("recentLocations",JSON.stringify(a),{path:"/",expires:t}),Q(a)}}({name:"".concat(e.name,", ").concat(e.sys.country),lat:t,lon:a}),function(e,t){$.apply(this,arguments)}(t,a)})).then((function(){return E(!0)})).catch((function(e){return window.alert(e.message)}))}),[W]),c.a.createElement("div",{className:"App"},c.a.createElement(g,{handleSearch:function(e){var t=e.split(",").map((function(e){return e.trim()})),a=Number.isInteger(Number.parseInt(t[0]));Y(a?"https://api.openweathermap.org/data/2.5/weather?zip=".concat(t,"&appid=").concat(B):"https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(B))},isCelsius:z,setIsCelsius:q}),c.a.createElement(x,{recentLocations:void 0==G?[]:G,deleteRecentLocation:function(e){var t=new Date;t.setFullYear(2030);var a=G;a=a.filter((function(t){return e.name!=t.name||e.lon!=t.lon||e.lat!=t.lat})),U.set("recentLocations",JSON.stringify(a),{path:"/",expires:t}),Q(a)},selectRecentLocation:ee}),c.a.createElement("div",{className:"main"},c.a.createElement(v,{current:r,gotCurrent:h,convert:T}),c.a.createElement(y,{daily:O,gotDaily:k,convert:T}),c.a.createElement(w,{hourly:P,gotHourly:H,convert:T})))};a(16);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.94e73488.chunk.js.map